(function(k){var e,d,r=-1,f=window.sessionStorage,p;k.fn.autosuggest=function(z){function l(b){0<b.length?(!0===p&&!0===g.typeAhead&&v(b[0]),t(b)):h()}function q(b){if(0<b.length){var c=e.value,m=[],d=[],f=new RegExp(c.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),"i");if(0<c.length)for(;m.length!=g.limit&&0!=b.length;){var n=b.shift();0==n.indexOf(c)?m.push(n):0==n.search(f)?d.unshift(n):-1!==n.search(f)&&d.push(n)}d=m.length==g.limit?[]:d.slice(0,g.limit-m.length);0<m.length?(!0===p&&!0===g.typeAhead&&
v(m[0]),t(m.concat(d))):0<d.length?t(d):h()}else h()}function v(b){if(e.createTextRange||e.setSelectionRange){var c=e.value.length;e.value=b;b=b.length;if(e.createTextRange){var d=e.createTextRange();d.moveStart("character",c);d.moveEnd("character",b-e.value.length);d.select()}else e.setSelectionRange&&e.setSelectionRange(c,b);e.focus()}}function h(){d.style.visibility="hidden"}function u(b){for(var c=0;c<d.childNodes.length;c++){var e=d.childNodes[c];e==b?e.className="current":"current"==e.className&&
(e.className="")}}function w(){for(var b=e,c=0;"BODY"!=b.tagName;)c+=b.offsetLeft,b=b.offsetParent;return c}function x(){for(var b=e,c=0;"BODY"!=b.tagName;)c+=b.offsetTop,b=b.offsetParent;return c}function t(b){var c;d.innerHTML="";d.style.width=g.fixedwith?g.fixedwith+"px":e.offsetWidth+"px";for(var f=0;f<b.length;f++)c=document.createElement("div"),c.appendChild(document.createTextNode(b[f])),d.appendChild(c);d.style.left=w()+"px";d.style.top=x()+e.offsetHeight+"px";d.style.visibility="visible"}
function y(){if(null!==g.suggestionsProvider)if(f&&!0===g.cache){var b=new Date,c=f.getItem("jquery-autosuggest-timestamp-77663434589485"),c=new Date(c);if(!(c.getTime()+1E3*g.cacheduration>b.getTime())&&(b=g.suggestionsProvider.split("."),0<b.length))switch(b.length){case 4:c=window[b[0]][b[1]][b[2]][b[3]](e.value);b=new Date;f.setItem("jquery-autosuggest-data-77663434589485",JSON.stringify(c));f.setItem("jquery-autosuggest-timestamp-77663434589485",b.toISOString());l(c);break;case 3:c=window[b[0]][b[1]][b[2]](e.value);
b=new Date;f.setItem("jquery-autosuggest-data-77663434589485",JSON.stringify(c));f.setItem("jquery-autosuggest-timestamp-77663434589485",b.toISOString());l(c);break;case 2:c=window[b[0]][b[1]](e.value);b=new Date;f.setItem("jquery-autosuggest-data-77663434589485",JSON.stringify(c));f.setItem("jquery-autosuggest-timestamp-77663434589485",b.toISOString());l(c);break;case 1:c=window[suggestionsProvider](e.value),b=new Date,f.setItem("jquery-autosuggest-data-77663434589485",JSON.stringify(c)),f.setItem("jquery-autosuggest-timestamp-77663434589485",
b.toISOString()),l(c)}}else{if(b=g.suggestionsProvider.split("."),0<b.length)switch(b.length){case 4:l(window[b[0]][b[1]][b[2]][b[3]](e.value));break;case 3:l(window[b[0]][b[1]][b[2]](e.value));break;case 2:l(window[b[0]][b[1]](e.value));break;case 1:l(window[suggestionsProvider](e.value))}}else if(null!==g.sugggestionsArray)q(g.sugggestionsArray.slice(0));else if(null!==g.ajaxurl)if(null!==f&&!0===g.cache){var d=encodeURIComponent(g.ajaxurl),h=encodeURIComponent(g.ajaxurl)+"data";null!==f.getItem(d)?
(b=new Date,c=f.getItem(d),c=new Date(c),c.getTime()+1E3*g.cacheduration<b.getTime()?k.ajax({url:g.ajaxurl,type:"GET",dataType:"json",success:function(b){var c=new Date;f.setItem(h,JSON.stringify(b));f.setItem(d,c.toISOString());q(b)},error:function(b){console.error("There was an error with the ajax request in jquery.autosuggest")}}):q(JSON.parse(f.getItem(h)))):k.ajax({url:g.ajaxurl,type:"GET",dataType:"json",success:function(b){var c=new Date;f.setItem(h,JSON.stringify(b));f.setItem(d,c.toISOString());
q(b)},error:function(b){console.error("There was an error with the ajax request in jquery.autosuggest")}})}else k.ajax({url:g.ajaxurl,type:"GET",dataType:"json",success:function(b){q(b)},error:function(b){console.error("There was an error with the ajax request in jquery.autosuggest!")}});else console.error("No data source provided for jquery.autosuggest!")}function A(){var b=document.head||document.getElementsByTagName("head")[0],c=document.createElement("style");c.type="text/css";c.styleSheet?c.styleSheet.cssText=
css:c.appendChild(document.createTextNode("div.jquery-autosuggest-suggestions { margin-bottom: 8px;background-color: #ffffff; border-radius: 1px;border: 1px solid #dddddd;position: absolute;}div.jquery-autosuggest-suggestions div {cursor: default;padding: 0px 3px;font-size: 16.099999999999998px;font-weight: 200;line-height: 1.4;border-bottom: 1px solid rgba(128,128,128,0.1);}div.jquery-autosuggest-suggestions div.current {background-color: #428bca;color: white;}"));b.appendChild(c)}(function(b){e=
e||(void 0===b?null:b);d=document.createElement("div");d.className="jquery-autosuggest-suggestions";d.style.visibility="hidden";document.body.appendChild(d);d.onmousedown=d.onmouseup=d.onmouseover=function(b){b=b||window.event;var d=b.target||b.srcElement;"mousedown"==b.type?(e.value=d.firstChild.nodeValue,h()):"mouseover"==b.type?u(d):e.focus()};A()})();var g=k.extend({suggestionsProvider:null,sugggestionsArray:null,typeAhead:!0,ajaxurl:null,cache:!1,limit:10,cacheduration:600,fixedwith:null},z);
k(this).on("keydown",function(b){e=b.target;switch(b.keyCode){case 38:b=d.childNodes;0<b.length&&0<r&&(b=b[--r],u(b),e.value=b.firstChild.nodeValue);break;case 40:b=d.childNodes;0<b.length&&r<b.length-1&&(b=b[++r],u(b),e.value=b.firstChild.nodeValue);break;case 13:h()}});k(this).on("keyup",function(b){e=b.target;if(8==b.keyCode||46==b.keyCode)p=!1,y();32>b.keyCode||33<=b.keyCode&&46>=b.keyCode||112<=b.keyCode&&123>=b.keyCode?p=!1:(p=!0,y())});k(this).on("blur",function(b){e=b.target;h()});k(window).resize(function(){d.style.width=
g.fixedwith?g.fixedwith+"px":e.offsetWidth+"px";d.style.left=w()+"px";d.style.top=x()+e.offsetHeight+"px"})}})(jQuery);